<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical Records App</title>
    <link rel="stylesheet" href="/css/style.css">
</head>

<body>
    <header>
        <h1>Medical Records Application</h1>
    </header>

    <main>
        <section id="patient">
            <h2>Patients</h2>
            <table>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Date of Birth</th>
                        <th>Address</th>
                        <th>Appointments</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="patient-table-body"></tbody>
            </table>
            <button onclick="loadPatients()">Refresh Patients</button>
            <div id="error-message" style="color: red; display: none;"></div>
            <div id="loading-indicator" style="display: none;">Loading...</div>
        </section>

        <section id="appointments">
            <h2>Appointments</h2>
            <form id="appointment-form">
                <label for="patient-select">Select Patient:</label>
                <select id="patient-select" required></select>

                <label for="doctor-select">Select Doctor:</label>
                <select id="doctor-select" required></select>

                <label for="appointment-date">Appointment Date:</label>
                <input type="datetime-local" id="appointment-date" required>

                <button type="submit">Add Appointment</button>
            </form>

            <h3>View Patient Appointments</h3>
            <ul id="appointments-list"></ul>
            <div id="patient-appointments" style="display: none;"></div>
        </section>

        <section id="prescriptions">
            <h2>Prescriptions</h2>
            <form id="prescription-form">
                <label for="appointment-select">Select Appointment:</label>
                <select id="appointment-select" required></select>

                <label for="medication">Medication:</label>
                <input type="text" id="medication" required>

                <label for="dosage">Dosage:</label>
                <input type="text" id="dosage" required>

                <button type="submit">Add Prescription</button>
                <div id="prescription-loading-indicator" style="display: none;">Loading...</div>
            </form>
        </section>
    </main>

    <script src="js/api.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/events.js"></script>
    <script src="js/main.js"></script>
</body>

</html>